# OpenClaw .env example
#
# Quick start:
# 1) Copy this file to `.env` (for local runs from this repo), OR to `~/.openclaw/.env` (for launchd/systemd daemons).
# 2) Fill only the values you use.
# 3) Keep real secrets out of git.
#
# Env-source precedence for environment variables (highest -> lowest):
# process env, ./.env, ~/.openclaw/.env, then openclaw.json `env` block.
# Existing non-empty process env vars are not overridden by dotenv/config env loading.
# Note: direct config keys (for example `gateway.auth.token` or channel tokens in openclaw.json)
# are resolved separately from env loading and often take precedence over env fallbacks.

# -----------------------------------------------------------------------------
# Gateway auth + paths
# -----------------------------------------------------------------------------
# Recommended if the gateway binds beyond loopback.
OPENCLAW_GATEWAY_TOKEN=change-me-to-a-long-random-token
# Example generator: openssl rand -hex 32

# Optional alternative auth mode (use token OR password).
# OPENCLAW_GATEWAY_PASSWORD=change-me-to-a-strong-password

# Optional path overrides (defaults shown for reference).
# OPENCLAW_STATE_DIR=~/.openclaw
# OPENCLAW_CONFIG_PATH=~/.openclaw/openclaw.json
# OPENCLAW_HOME=~

# Optional: import missing keys from your login shell profile.
# OPENCLAW_LOAD_SHELL_ENV=1
# OPENCLAW_SHELL_ENV_TIMEOUT_MS=15000

# -----------------------------------------------------------------------------
# Model provider API keys (set at least one)
# -----------------------------------------------------------------------------
# OPENAI_API_KEY=sk-...
# ANTHROPIC_API_KEY=sk-ant-...
# GEMINI_API_KEY=...
# OPENROUTER_API_KEY=sk-or-...

# Optional additional providers
# ZAI_API_KEY=...
# AI_GATEWAY_API_KEY=...
# MINIMAX_API_KEY=...
# SYNTHETIC_API_KEY=...

# -----------------------------------------------------------------------------
# Channels (only set what you enable)
# -----------------------------------------------------------------------------
# TELEGRAM_BOT_TOKEN=123456:ABCDEF...
# DISCORD_BOT_TOKEN=...
# SLACK_BOT_TOKEN=xoxb-...
# SLACK_APP_TOKEN=xapp-...

# Optional channel env fallbacks
# MATTERMOST_BOT_TOKEN=...
# MATTERMOST_URL=https://chat.example.com
# ZALO_BOT_TOKEN=...
# OPENCLAW_TWITCH_ACCESS_TOKEN=oauth:...

# -----------------------------------------------------------------------------
# Tools + voice/media (optional)
# -----------------------------------------------------------------------------
# BRAVE_API_KEY=...
# PERPLEXITY_API_KEY=pplx-...
# FIRECRAWL_API_KEY=...

# ELEVENLABS_API_KEY=...
# XI_API_KEY=...  # alias for ElevenLabs
# DEEPGRAM_API_KEY=...

# =============================================================================
# RayVault v0.1 — Worker Infrastructure
# =============================================================================
#
# Validation enforced at startup (config.py):
#   - heartbeat_interval < lease/2
#   - heartbeat_timeout < heartbeat_interval
#   - validate_secrets() checks SUPABASE_URL + SUPABASE_SERVICE_KEY
#
# Env var precedence: RAYVAULT_* prefix → unprefixed fallback → default
# =============================================================================

# -----------------------------------------------------------------------------
# [CORE] Worker Identity
# -----------------------------------------------------------------------------

RAYVAULT_WORKER_ID=Mac-Ray-01      # unique per machine (min 3 chars)
RAYVAULT_TASK_TYPE=                 # optional: filter claim_next by task_type

# -----------------------------------------------------------------------------
# [LOCK] Lease / Heartbeat / Poll
# -----------------------------------------------------------------------------

RAYVAULT_LEASE_MINUTES=10
RAYVAULT_HEARTBEAT_INTERVAL_SEC=120    # MUST be < lease/2
RAYVAULT_HEARTBEAT_TIMEOUT_SEC=15      # MUST be < heartbeat_interval
RAYVAULT_HEARTBEAT_JITTER_SEC=15
RAYVAULT_HEARTBEAT_MAX_RETRIES=3
RAYVAULT_HEARTBEAT_UNCERTAIN_THRESHOLD=3

RAYVAULT_POLL_INTERVAL_SEC=30
RAYVAULT_POLL_JITTER_SEC=10
RAYVAULT_POST_RUN_BACKOFF_SEC=5
RAYVAULT_CLAIM_TIMEOUT_SEC=20
RAYVAULT_QUARANTINE_SEC=45

# -----------------------------------------------------------------------------
# [PATHS] State directories (relative to repo root)
# -----------------------------------------------------------------------------

RAYVAULT_STATE_DIR=state
RAYVAULT_SPOOL_DIR=spool
RAYVAULT_CHECKPOINT_DIR=checkpoints
RAYVAULT_MAX_WORKER_ERROR_LEN=500

# -----------------------------------------------------------------------------
# [SUPABASE] Service Role (REQUIRED for worker/doctor)
# -----------------------------------------------------------------------------

# SUPABASE_URL=https://xxx.supabase.co
# SUPABASE_SERVICE_KEY=eyJ...
RAYVAULT_RPC_TIMEOUT_SEC=10

# -----------------------------------------------------------------------------
# [VERCEL / DASHBOARD] URLs for Telegram panic links
# -----------------------------------------------------------------------------

# VERCEL_BASE_URL=https://rayviewslab.vercel.app

# -----------------------------------------------------------------------------
# [TELEGRAM] SRE Cockpit (optional, recommended)
# -----------------------------------------------------------------------------

# TELEGRAM_BOT_TOKEN=123456:ABCDEF...
# TELEGRAM_ADMIN_CHAT_ID=123456789
RAYVAULT_TELEGRAM_MAX_LEN=4000

# -----------------------------------------------------------------------------
# [PLAYWRIGHT / BROWSER] Context Manager
# -----------------------------------------------------------------------------

BROWSER_HEADLESS=true
# BROWSER_USER_AGENT=              # optional custom UA
# BROWSER_PROXY_SERVER=            # optional, e.g. http://user:pass@host:port
# BROWSER_STORAGE_STATE_PATH=      # default: state/browser/storage_state.json
BROWSER_ENABLE_TRACING=false
# BROWSER_TRACES_DIR=              # default: state/browser/traces
BROWSER_NAV_TIMEOUT_MS=45000
BROWSER_ACTION_TIMEOUT_MS=15000
